[["index.html", "關於 Rmarkdown / bookdown / blogdown / Hugodown Chapter 1 Prefix", " 關於 Rmarkdown / bookdown / blogdown / Hugodown Marconi Jiang 2021-03-18 Chapter 1 Prefix 1.0.0.1 Using R Markdown to build github.io static web pages 1.0.0.2 無意間發現 merely-useful.github.io 網頁完美結合 github 及 github.io, 集合眾人之力, 內文集程式更新於 github, 並且以書籍形式發表於 github.io, 詢問作者 後, 得知是運用 R Markdown 的作品. 本以為是個簡單的 deployment, 實際執行後, 還是有不小的 efforts, 而且 google 到相關的文章不是太多, 只好自己努力. 相關連結 - Merely-useful 網站 - github.com/merely-useful - merely-useful.github.io 我喜歡 hyperlink 的設計 (本以為是 CSS 的能力, 發現是這網頁使用的是 Hugo 的 Lithium theme ) - RMarkdown 的網站有兩個: bookdown 跟 blogdown, blogdown 似乎是比較舊, 但是含有安裝 Hugo 的說明, bookdown 比較新, 卻沒有 Hugo 的安裝說明 - bookdown: Authoring Books and Technical Documents with R Markdown - blogdown: Creating Websites with R Markdown - 勉強找到幾篇入門的教學文章, 試試看是否可行 - 這篇應該是完整且最新的詳細說明 Getting any website up and running with all the moving parts (RStudio, GitHub, Hugo, Netlify) (完成後發現, 她是以 blogdown 的格式, 也就是適合 blog 的文章, 跟我希望用的 bookdown 是完全不同的, 是否可以直接套用在 bookdown, 還需要再確定) - How to publish bookdown projects with GitHub Actions on GitHub Pages - 運用 Netlify 工具 deploy A Blogdown New Post Workflow with Github and Netlify - 運用 Travis 工具 deploy 到 github Blogdown - Travis + GitHub "],["intro.html", "Chapter 2 安裝 R、RStudio 及 github 設定", " Chapter 2 安裝 R、RStudio 及 github 設定 就一般的套件安裝, 沒有特別需要注意的地方 在 github.com 上新增一的 repo, repo 名稱必須是 marconijiang.github.io 不想破壞原有的 marconi1964.github.io 的設計, 重新申請 github 帳號, 並且新增一個 repo 叫做 marconijiang.github.io, 網頁位址為 https://marconijiang.github.io - (這是 github 的標準設定, 只要設定 username.github.io 這個 repo, github 會自動設定 https://username.github.io/ 這網頁導向這個 repo) "],["-rmarkdown-github-io-.html", "Chapter 3 開始 RMarkdown 在 github.io 的冒險之旅", " Chapter 3 開始 RMarkdown 在 github.io 的冒險之旅 主要是根據 Alison Hill 關於 blogdown 的 2021 更新 *1, (除非有其他的參考文章會特別標出) 3.0.0.1 2.1 R Markdown 的基本指令 *2 ## 參考用, 待會兒執行時, 會有詳細指令說明 ## 安裝套件 Install packages from CRAN &gt; if (!requireNamespace(&quot;remotes&quot;)) install.packages(&quot;remotes&quot;) ## install remotes ## install blogdown from CRAN &gt; install.packages(&quot;blogdown&quot;) ## Or, install blogdown from GitHub &gt; remotes::install_github(&quot;rstudio/blogdown&quot;) ## blogdown 是基於 Hugo (https://gohugo.io) 靜態網頁產生器, 需要 blogdown 下載並安裝 hugo &gt; blogdown::install_hugo() ## 安裝後, 如果要開啟 server 的 preview, 就執行以下指令 &gt; blogdown::serve_site() 3.0.0.2 2.2 Create project (Ref 1. Step 2 Create project) RStudio 選擇 File &gt; New Project &gt; Version Control &gt; Git 複製 github 的 url, 我的例子是 https://github.com/MarconiJiang/marconijiang.github.io.git Create Project 這時候, RStudio 會開個全新的畫面, 下載 marconijiang.github.io 的內容, 同時 file 目錄指向筆電 local repo 的目錄 3.0.0.3 2.3 Create site (Ref 1. Step 3 Create site) 2.3.1 安裝 blogdown ## 到 RStudio 的 console 下, 執行以下指令 &gt; if (!requireNamespace(&quot;remotes&quot;)) install.packages(&quot;remotes&quot;) &gt; remotes::install_github(&quot;rstudio/blogdown&quot;) ## 完成後, 會出現安裝完成字樣 ## * DONE (blogdown) 2.3.2 在 RStudio / blogdown 下創建新的網站 執行以下指令 &gt; library(blogdown) &gt; blogdown::new_site(theme = &#39;yihui/hugo-lithium&#39;) 原始文章安裝的是另一個主題 (theme), 我嘗試的做了些修改, 都是出現錯誤後, 發現 error message 裡面嘗試去 github 尋找 lithium, 因此我 google 了 “github lithium theme,” 找到了至少 3 個 github 包含 lithium 這個主題 (theme), 但是, 只有其中一個的 README.md 說明清楚如何在 blogdown 上安裝, 就照著他的說明進行 Yihui Hugo Lithium ## 清楚說明, 雖然是從 jrutheiser fork 出來 Jrutheiser Hugo Lithium ## 應該是原始出處 janikvonrotz Hugo Lithium Hugo Lithium 官網 ## 以下為錯誤嘗試, 不必重複 &gt; new_site(theme = &quot;wowchemy/starter-academic&quot;) ## 原始文章作法 也參考了 https://bookdown.org/yihui/blogdown/other-themes.html 的說明 &gt; blogdown::new_site(theme = &quot;lxndrblz/anatole&quot;) &gt; new_site(theme = &quot;Lithium&quot;) ## 我的錯誤嘗試 &gt; new_site(theme = &quot;Hugo/Lithium&quot;) ## 我的錯誤嘗試 需要再按 ‘y’ 來確定執行後, RStudio 就開始創建一個新的網站, 有三個方式可以看到網頁內容(雖然目前內容是空的) 1. RStudio 右下方的 Viewer 視窗(在 Files 的右邊) 2. Viewer 視窗下, 有個箭頭的 icon, 意思是 Show in new window, 按下後, 會開 browser 的新視窗 3. 自行到 browser 下, 輸入網址 http://localhost:4321 (實際位址可能會有變動, 需查看 RStudio 視窗內容顯示的網址, 類似如下的內容) ― Creating your new site | Installing the theme yihui/hugo-lithium from github.com trying URL &#39;https://github.com/yihui/hugo-lithium/archive/master.tar.gz&#39; Content type &#39;application/x-gzip&#39; length unknown downloaded 109 KB | Adding the sample post to content/post/2020-12-01-r-rmarkdown/index.Rmd | Converting all metadata to the YAML format | Adding netlify.toml in case you want to deploy the site to Netlify | Adding .Rprofile to set options() for blogdown ― The new site is ready ○ To start a local preview: use blogdown::serve_site(), or the RStudio add-in &quot;Serve Site&quot; ○ To stop a local preview: use blogdown::stop_server(), or restart your R session &gt; Want to serve and preview the site now? (y/n) y Launching the server via the command: C:/Users/mjiang/AppData/Roaming/Hugo/0.81.0/hugo.exe server --bind 127.0.0.1 -p 4321 --themesDir themes -t hugo-lithium -D -F --navigateToChanged Serving the directory . at http://localhost:4321 Launched the hugo server in the background (process ID: 32508). To stop it, call blogdown::stop_server() or restart the R session. Rendering content/post/2020-12-01-r-rmarkdown/index.Rmd... Done. 網頁到此已順利創建完成, 接下來就是網頁內容的修改, 及如何 deploy 到 github.io "],["-rmarkdown-blogdown-deploy-netlify.html", "Chapter 4 3 將 RMarkdown blogdown 內容 deploy 到 Netlify", " Chapter 4 3 將 RMarkdown blogdown 內容 deploy 到 Netlify 參考 Ref. 1 Using github 章節 3.1 設定 .gitignore : 雖然不知道這時候設定 .gitignore 的必要性, 還是照著說明做 file.edit(&quot;.gitignore&quot;) RStudio 會將 cursor 移到左上角的檔案內容檢視視窗, 在該視窗類加上以下內容 ## 原始內容 .Rproj.user .Rhistory .RData .Ruserdata ## 增加以下內容 .DS_Store Thumbs.db 3.2 blogdown 檢查 check_gitignore() 執行第一次 commit 之前, 先用 blogdown 檢查 &gt; blogdown::check_gitignore() 不太清楚 [TODO] 再這裡的意義, 待研究 ― Checking .gitignore | Checking for items to remove... ○ Nothing to see here - found no items to remove. | Checking for items to change... ○ Nothing to see here - found no items to change. | Checking for items you can safely ignore... ○ Found! You have safely ignored: .DS_Store, Thumbs.db | Checking for items to ignore if you build the site on Netlify... ● [TODO] When Netlify builds your site, you can safely add to .gitignore: /public/, /resources/ | Checking for files required by blogdown but not committed... ● [TODO] Found 1 file that should be committed in GIT: layouts/shortcodes/blogdown/postref.html ― Check complete: .gitignore 3.3 blogdown 檢查 check_content() 還不清楚這動作的意義, 待確認 &gt; blogdown::check_content() 執行結果 ― Checking content files | Checking for validity of YAML metadata in posts... ○ All YAML metadata appears to be syntactically valid. | Checking for previewed content that will not be published... ○ Found 0 files with future publish dates. ○ Found 0 files marked as drafts. | Checking your R Markdown content... ○ All R Markdown files have been knitted. ○ All R Markdown output files are up to date with their source files. | Checking for .html/.md files to clean up... ○ Found 0 duplicate .html output files. ○ Found 0 incompatible .html files to clean up. | Checking for the unnecessary &#39;content/&#39; directory in theme... ○ Great! Your theme does not contain the content/ directory. ― Check complete: Content 3.4 在 Netlify 網站上建置並且 Publish site 參考 Ref 1. Publish site 章節 我們在這章節會使用比較高端的做法, 讓 Netlify 來將我們建立的網站, 建置到 github 上. 1. 到 Netlify 網站 2. 用 github 的帳號去 sign up (無須建立新帳號) 3. log in 後, 選擇 New site from Git &gt; Continuous Deployment: GitHub. 4. (optional) 到 (Netlify) menu 右上角 Site Setting 點選後, 更改 Change site name 到自己已歡的名字, 我挑選的是 marconijiang, 所以我的網站就是 https://marconijiang.netlify.app. 如果修改, 會是 Netlify 自行設定的網址名稱, 位於左上角類似 xxxx-yyyyy-zzzz.netlify.app 的網址 5. 可以另開一個 browser 頁面, 輸入網址 marconijiang.netlify.app, 就可以看到自己的 github 上的內容 (這時候的內容是 github 網站的內容, 如果還沒跟電腦上的同步, 內容可能是空的) 3.5 git 指令將電腦的內容更新於 github 移到 RStudio 左下角的 terminal (console 右邊), 透過一般的 git 指令去更新 github 上的內容 ## 這時候, 目錄位址應該是從網頁內容 git clone 下來的目錄, 都是 xxxx.github.io ## 像我的目錄就是 marconijiang.github.io $ git add * $ git commit -m &quot;init commit&quot; $ git push origin main # 最近, github 將 &quot;master&quot; branch 改成 main ## 需要輸入 github 的 user id 跟 password 這時候, 再回到 browser 的 https://marconijiang.netlify.app 稍稍等個一分鐘, 網頁會自動更新到最新的內容 "],["-bookdown.html", "Chapter 5 4. 重新安裝 bookdown", " Chapter 5 4. 重新安裝 bookdown 此章節主要參考 Ref 7. rib-hugodown github 網頁 4.1 安裝 bookdown 套件 &gt; install.packages(&quot;devtools&quot;) ## devtools::install_github(&#39;rstudio/bookdown&#39;) &gt; devtools::install_github(&quot;r-lib/hugodown&quot;) ## 不知是否是版本問題, 還是改安裝了 0.66.0 版後才沒問題 &gt; hugodown::hugo_install(&#39;0.66.0&#39;) 4.2 在 RStudio 建立新專案 進入 RStudio -&gt; New Project -&gt; New Directory -&gt; New Project -&gt; “Directory name” -&gt; “Create Project” 4.3 創建 hugo 的 academic 模板網站 創建 hugo 的 academic 模板網站 &gt; hugodown::create_site_academic() 開始 hugodown 網頁的 server &gt; hugodown::hugo_start() Starting server on port 1313 "],["-bookdown-deploy-github-io.html", "Chapter 6 5 成功安裝 bookdown, 且順利 deploy 到 github.io", " Chapter 6 5 成功安裝 bookdown, 且順利 deploy 到 github.io 5.0 安裝套件 我只是安裝了 blogdown 套件, 就自動安裝了 bookdown 套件（應該是如此） &gt; if (!requireNamespace(&quot;remotes&quot;)) install.packages(&quot;remotes&quot;) &gt; remotes::install_github(&quot;rstudio/blogdown&quot;) 5.1 產生 bookdown 範例檔案 到 RStudio -&gt; File -&gt; New project -&gt; New directory -&gt; 向下找到 “Book project using bookdown” -&gt; Directory 的名字為 marconijiang.github.io 即可產生帶有範例的 bookdown 程式在 marconijiang.github.io 目錄下. 5.2 Deploy 到 github.io 到 RStudio 右上方, Environment 同一頁面的 Build, 選擇 Build Book 下的 bookdown::gitbook, RStudio 就開始將內容轉至 html, 儲存於 _book 子目錄下, 這時候到 https://marconijiang.github.io/_book/index.html 會出現 404 not found 5.3 新增沒有內容的檔案, 名字為 .nojekyll 的檔案到 _book 目錄下, 詳細內容參考 github 404 not found due to missing .nojekyll 就可以成功看到 https://marconijiang.github.io/_book/index.html 的內容 "],["references.html", "References", " References 參考資料 1. https://alison.rbind.io/post/new-year-new-blogdown/ 2. https://bookdown.org/yihui/blogdown/installation.html Lithium 相關主題 3. Yihui Hugo Lithium 4. Jrutheiser Hugo Lithium ## 應該是 Lithium 原始出處 5. janikvonrotz Hugo Lithium 6. Hugo Lithium 官網 Hugodown 相關網頁 7. r-lib/hugodown github 官網 "]]
